# Django 웹 프레임워크

2020.03.26

### web framework

- 웹 개발 시
  1. A - Z 모두 직접 하기
  2. 프레임워크 사용 (프렌차이저와 같음)
- 웹 통신
  - 요청 & 응답(response, HTML 의 한장의 문서를 받을 뿐)
  - 서버 & 클라이언트

### django

- 파이썬 기반의 웹 프레임워크(웹 개발에 필요한 소스코드 제공)
- 다양한 기업들에서 활용 (instagram, dropbox, Delivery Hero)

#### 어떻게 동작하는가?

파이썬으로 작성된 오픈소스 웹 어플리케이션 프레임 워크로 **모델 뷰 컨트롤러**(Model-View-Controller, 소프트웨어 디자인 패턴)

| MVC 패턴                                                     | django                                                       |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Model View Controller                                        | Model Template View                                          |
| Model : DB 조작 <br />View : 화면에서 보이는 부분<br />일반적 | Model : 데이터 관리<br />Template : 인터페이스(화면) <br />View : 중간 관리(상호작용) |

![11](https://user-images.githubusercontent.com/60081201/77765454-a1734680-7081-11ea-8f2b-79ea8b332381.JPG)

#### AWS Cloud9

- 브라우저에서 직접 코드 작성, 실행 및 디버깅 할 수 있는 클라우드 기반 IDE(통합 개발 환경)
- 개별 로컬 PC 환경에 영향 X 장점
- 추후에 로컬 개발 환경 설정도 진행할 예정

### hello, django!

> 항상 directory 위치 확인하면서 코딩하기!

#### 1. 패키지 설치 

```bash
$ pip install django==2.1.15
```

- 수업에서는 2.1. 15를 기준으로 진행할 예정

#### 2. 프로젝트 생성

```bash
$ django-admin startproject {프로젝트 명}
```

```bash
$ django-admin startproject {프로젝트 명} .
# . : 상위 폴더로 안묶이고 하나만 생김!
```

- 프로젝트 만든 후 항상 로켓 확인하기

  ```bash
  $ python manage.py runserver 8080
  # disallowed 에 대해 '*'를 추가하여 해결하기!
  ```

- 프로젝트 setting

  ![2](https://user-images.githubusercontent.com/60081201/77765237-4c373500-7081-11ea-888f-732504113ebe.JPG)

#### 3. app 생성

- django는 여러개의 앱을 가진 하나의 프로젝트로 구성된다.
  - 커뮤니티를 만든다
    - 회원과 관련된 app - `account`
    - 게실글과 관련된 app - `posts`

```bash
$ python manage.py startapp {app 이름}
```

- app을 생성하고 반드시 `settings.py`의 app에 추가!

#### 4. 서버 실행

- `django_intro` 폴더의 `settings.py` 파일에 아래와 같이 수정한다.

  ```python
  # 28번째 라인
  ALLOWED_HOSTS = ['*']
  ```

- 반드시 서버 실행시 명령어가 실행되는 디렉토리를 확인할 것

```bash
~/ $ cd django_intro/
~/django_intro/ $ python manage.py runserver 8080
```

- 실행된 서버는 우측의 영역의 url을 클릭한다.

- 서버 종료시 터미널에 `ctrl + c` 입력

- python manage.py runserver 

  py 파일을 실행시킨다.

  서버 실행시 ls 명령어를 통해 확인후 실행하도록!

### 리눅스 명령어 정리

- `cd` : change directory, **이동**

  - .. : 상위 디렉토리로
  - . : 현재 디렉토리로

  ```bash
  # django_intro 폴더로 이동
  ~/- $ cd django_intro/
  ~/django_intro $
  
  # 상위 디렉토리로 이동
  ~/django_intro $ cd ..
  ~/ $
  ```

- `ls ` : 현재 디렉토리 파일 **목록**

  ```bash
  ~/django_intro $ ls
  db.sqlite3 django_intro / mannage.py*
  ```

- `mkdir + {파일명}` : make a directory, 파일만들기
- `ctrl + l` : 터미널 clear

### 흐름 정리

1. url 정의 (사용자 경로, 이정표)

2. 함수 `views.py` 에서 정의

   ※ 주의 : 첫인자는 request ! , return에서도 순서대로

   ex) `return(request, html, context)`

   - html : 경로, `template/ ` 자체가 기본 설정(작성하면 X)
   - context - {{ **key** 값 }}