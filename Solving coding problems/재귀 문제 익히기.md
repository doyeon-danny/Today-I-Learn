# 재귀 문제 익히기

> https://swexpertacademy.com/main/main.do

### 1952. [모의 SW 역량테스트] 수영장

```python
def swim(n, price, d, m, m3):
    global minPrice
    if n > 12:
        if minPrice > price:
            minPrice = price
    elif price >= minPrice: # 이미 최소비용이 넘어갔기에 제외! (가지치기)
        return
    else:
        swim(n + 1, price + min(d*plan[n], m), d, m, m3) # n월 1일권과 1달권 비교
        swim(n + 3, price + m3, d, m, m3) # n월 3달 이용권

for t in range(1, int(input())+1):
    d, m, m3, y = map(int, input().split())
    plan = [0] + list(map(int, input().split()))
    minPrice = y
    swim(1, 0, d, m, m3)
    print('#{} {}'.format(t, minPrice))
```

### 4008. [모의 SW 역량테스트] 숫자 만들기

- 음수에 대한 나눗셈 _ python 기준

  ```python
  a, b = -3, 2
  print(a//b) # -2
  print(int(a/b)) # -1, 현재 문제에서 사용할 경우
  if a < 0:
      print(-(abs(a)//b)) # -1
  else:
      print(a//b)
  ```

- 최대 최소 0으로 초기화하는 버릇 X

  문제에서 주어진 범위를 기준으로 초기화시켜주기

  ex) minV = 1000000, maxV = -10000000

```python
def cal(n, N, V, op1, op2, op3, op4):
    global minV, maxV
    if n == N:
        if V < minV:
            minV = V
        if V > maxV:
            maxV = V
    else:
        if op1 > 0:
            cal(n+1, N, V+nums[n], op1-1, op2, op3, op4)
        if op2 > 0:
            cal(n+1, N, V-nums[n], op1, op2-1, op3, op4)
        if op3 > 0:
            cal(n+1, N, V*nums[n], op1, op2, op3-1, op4)
        if op4 > 0:
            cal(n+1, N, int(V/nums[n]), op1, op2, op3, op4-1)

for t in range(1, int(input())+1):
    N = int(input())
    op1, op2, op3, op4 = map(int, input().split())
    nums = list(map(int, input().split()))
    minV = 100000000; maxV = -100000000
    cal(1, N, nums[0], op1, op2, op3, op4)
    print('#{} {}'.format(t, maxV-minV))
```

### 1861. 정사각형 방

```python
# 재귀함수 이용
# 문제는 통과할 수 있더라도 값의 크기가 커지면 재귀 호출 error 발생
# but, 코드 작성 가능하기

dr = (-1, 0, 1, 0)
dc = (0, 1, 0, -1)


def dfs(o_r, o_c, r, c, cnt):
    global longest, longest_num

    if cnt > longest:
        longest = cnt
        longest_num = board[o_r][o_c]
    elif cnt == longest:
        if longest_num > board[o_r][o_c]:
            longest_num = board[o_r][o_c]

    chk[r][c] = True
    for d in range(4):
        nr, nc = r + dr[d], c + dc[d]
        if 0 <= nr < n and 0 <= nc < n and board[nr][nc] == board[r][c] + 1:
            dfs(o_r, o_c, nr, nc, cnt + 1)


for t in range(int(input())):
    n = int(input())
    board = [list(map(int, input().split())) for _ in range(n)]
    chk = [[0]*n for _ in range(n)]
    longest = 0
    longest_num = 0
    for x in range(n):
        for y in range(n):
            dfs(x, y, x, y, 0)

    print('#{} {} {}'.format(t + 1, longest_num, longest + 1))   
```

```python
dr = [0, 0, 1, -1]
dc = [1, -1, 0, 0]

for t in range(int(input())):
    N = int(input())
    board = [list(map(int, input().split())) for _ in range(N)]
    result = 0
    result_num = 987654321
    visited = [0] * (N**2 + 1)
    for r in range(N):
        for c in range(N):
            for i in range(4):
                nr = r + dr[i]
                nc = c + dc[i]
                if 0<=nr<N and 0<=nc<N and board[nr][nc]-board[r][c]==1:
                    visited[board[r][c]] = 1
    i = 1
    cnt = 0
    idx = 1
    while i <= N ** 2:
        if visited[i] == 1:
            cnt += 1
            i += 1
            continue
        else:
            if cnt > result:
                result = cnt
            elif cnt == result:
                if result_num > idx:
                    result_num = idx
            cnt = 0
            i += 1
            idx = i
    print('#{} {} {}'.format(t+1, result_num, result+1))
```

```python
# teacher solution

dr = [0, 0, 1, -1]
dc = [1, -1, 0, 0]

for t in range(1, int(input())+1):
    N = int(input())
    room = [list(map(int, input().split())) for _ in range(N)]
    v = [0] * (N * N + 1)
    
    for i in range(N):
        for j in range(N):
            for k in range(4):
                nr = i + dr[k]
                nc = j + dc[k]
                if 0<=nr<N and 0<=nc<N and room[i][j] + 1 == room[nr][nc]:
                    v[room[i][j]] = 1
    cnt = 0
    maxV = 0
    st = 0
    for i in range(N*N, -1, -1): # v[0] 까지 확인
        if v[i] == 1:
            cnt += 1
        else:
            if maxV <= cnt:
                maxV = cnt
                st = i+1
            cnt = 0
    print('#{} {} {}'.format(t, st, maxV + 1))
    
```





















